document.addEventListener("DOMContentLoaded",function(){var t="checkPopup";if(!sessionStorage.getItem(t)){sessionStorage.setItem(t,1),setTimeout(function(){$("#adsModal").modal("show")},3500);let e=$("#adsModal").find("a").attr("href");$("#adsModal").on("hide.bs.modal",function(){window.open(e,"_blank")})}setTimeout(function(){$(".banners img:not([src])").each(function(){let e=$(this);e.attr("src",e.data("src")),e.closest(".ads-container").attr("data-loaded",1)})},3500),$("body").on("click",".banner-close .close-icon",function(){let e=$(this).parents(".ads-container").attr("data-position");var t;sessionStorage.getItem(e)?(t=sessionStorage.getItem(e),t=parseInt(t)+1,sessionStorage.setItem(e,t)):sessionStorage.setItem(e,1),(e.includes("catfish")?$(this).parents(".ads-container").parent(".fixed-bottom"):$(this).parents(".ads-container")).remove()})});const FUNC={ajax_load_more:function(){$(document).on("click",".load-more",function(e){e.preventDefault();let t=$(this).data("page");t=t||2,$.ajax({type:"get",url:"",dataType:"html",data:{page:t},success:function(e){e=$(e).find("#ajax_content").html();e&&$("#ajax_content").append(e),$(".load-more").data("page",t+1)}})})},init:function(){FUNC.ajax_load_more()}};$(document).ready(function(){FUNC.init()}),function(k){function $(e){var t=e.originalEvent.changedTouches[0],a="";switch(e.type){case"touchmove":a="mousemove";break;case"touchend":a="mouseup";break;default:return}var i=document.createEvent("MouseEvent");i.initMouseEvent(a,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i),e.preventDefault()}k.rateit={aria:{resetLabel:"reset rating",ratingLabel:"rating"}},k.fn.rateit=function(b,x){function w(e){return e.charAt(0).toUpperCase()+e.substr(1)}var N=1,y={},C="init";if(0===this.length)return this;var e=k.type(b);if("object"==e||null==b)y=k.extend({},k.fn.rateit.defaults,b);else{if("string"==e&&"reset"!==b&&void 0===x)return this.data("rateit"+w(b));"string"==e&&(C="setvalue")}return this.each(function(){var n=k(this),i=function(e,t){var a,i;return null!=t&&(a="aria-value"+("value"==e?"now":e),null!=(i=n.find(".rateit-range")).attr(a)&&i.attr(a,t)),e="rateit"+w(e),n.data.apply(n,arguments)};if("reset"==b){var e,t=i("init");for(e in t)n.data(e,t[e]);i("backingfld")&&("SELECT"==(a=k(i("backingfld")))[0].nodeName&&"index"===a[0].getAttribute("data-rateit-valuesrc")?a.prop("selectedIndex",i("value")):a.val(i("value")),a.trigger("change"),a[0].min&&(a[0].min=i("min")),a[0].max&&(a[0].max=i("max")),a[0].step&&(a[0].step=i("step"))),n.trigger("reset")}n.hasClass("rateit")||n.addClass("rateit");var a,r,s="rtl"!=n.css("direction");if("setvalue"==C){if(!i("init"))throw"Can't set value before init";"readonly"!=b||1!=x||i("readonly")||(n.find(".rateit-range").unbind(),i("wired",!1)),"value"==b&&(x=null==x?i("min"):Math.max(i("min"),Math.min(i("max"),x))),i("backingfld")&&("SELECT"==(a=k(i("backingfld")))[0].nodeName&&"index"===a[0].getAttribute("data-rateit-valuesrc")?"value"==b&&a.prop("selectedIndex",x):"value"==b&&a.val(x),"min"==b&&a[0].min&&(a[0].min=x),"max"==b&&a[0].max&&(a[0].max=x),"step"==b&&a[0].step&&(a[0].step=x)),i(b,x)}i("init")||(i("mode",i("mode")||y.mode),i("icon",i("icon")||y.icon),i("min",isNaN(i("min"))?y.min:i("min")),i("max",isNaN(i("max"))?y.max:i("max")),i("step",i("step")||y.step),i("readonly",void 0!==i("readonly")?i("readonly"):y.readonly),i("resetable",void 0!==i("resetable")?i("resetable"):y.resetable),i("backingfld",i("backingfld")||y.backingfld),i("starwidth",i("starwidth")||y.starwidth),i("starheight",i("starheight")||y.starheight),i("value",Math.max(i("min"),Math.min(i("max"),isNaN(i("value"))?isNaN(y.value)?y.min:y.value:i("value")))),i("ispreset",void 0!==i("ispreset")?i("ispreset"):y.ispreset),i("backingfld")&&(((a=k(i("backingfld")).hide()).attr("disabled")||a.attr("readonly"))&&i("readonly",!0),"INPUT"!=a[0].nodeName||"range"!=a[0].type&&"text"!=a[0].type||(i("min",parseInt(a.attr("min"))||i("min")),i("max",parseInt(a.attr("max"))||i("max")),i("step",parseInt(a.attr("step"))||i("step"))),"SELECT"==a[0].nodeName&&1<a[0].options.length?("index"===a[0].getAttribute("data-rateit-valuesrc")?(i("min",isNaN(i("min"))?Number(a[0].options[0].index):i("min")),i("max",Number(a[0].options[a[0].length-1].index)),i("step",Number(a[0].options[1].index)-Number(a[0].options[0].index))):(i("min",isNaN(i("min"))?Number(a[0].options[0].value):i("min")),i("max",Number(a[0].options[a[0].length-1].value)),i("step",Number(a[0].options[1].value)-Number(a[0].options[0].value))),1==(r=a.find("option[selected]")).length&&("index"===a[0].getAttribute("data-rateit-valuesrc")?i("value",r[0].index):i("value",r.val()))):i("value",a.val())),r="DIV"==n[0].nodeName?"div":"span",N++,d='<button id="rateit-reset-{{index}}" type="button" data-role="none" class="rateit-reset" aria-label="'+k.rateit.aria.resetLabel+'" aria-controls="rateit-range-{{index}}"><span></span></button><{{element}} id="rateit-range-{{index}}" class="rateit-range"'+(1==i("readonly")?"":' tabindex="0"')+' role="slider" aria-label="'+k.rateit.aria.ratingLabel+'" aria-owns="rateit-reset-{{index}}" aria-valuemin="'+i("min")+'" aria-valuemax="'+i("max")+'" aria-valuenow="'+i("value")+'"><{{element}} class="rateit-empty"></{{element}}><{{element}} class="rateit-selected"></{{element}}><{{element}} class="rateit-hover"></{{element}}></{{element}}>',n.append(d.replace(/{{index}}/gi,N).replace(/{{element}}/gi,r)),s||(n.find(".rateit-reset").css("float","right"),n.find(".rateit-selected").addClass("rateit-selected-rtl"),n.find(".rateit-hover").addClass("rateit-hover-rtl")),"font"==i("mode")?n.addClass("rateit-font").removeClass("rateit-bg"):n.addClass("rateit-bg").removeClass("rateit-font"),i("init",JSON.parse(JSON.stringify(n.data()))));var d="font"==i("mode"),o=(d||n.find(".rateit-selected, .rateit-hover").height(i("starheight")),n.find(".rateit-range"));if(d){for(var l=i("icon"),u=i("max")-i("min"),c="",m=0;m<u;m++)c+=l;o.find("> *").text(c),i("starwidth",o.width()/(i("max")-i("min")))}else o.width(i("starwidth")*(i("max")-i("min"))).height(i("starheight"));function h(e,t){return t=(t.changedTouches?t.changedTouches[0]:t).pageX-k(e).offset().left,(t=(t=s?t:o.width()-t)>o.width()?o.width():t)<0&&(t=0),v=Math.ceil(t/i("starwidth")*(1/i("step")))}function g(e){var t=k.Event("beforerated");n.trigger(t,[e]),t.isDefaultPrevented()||(i("value",e),i("backingfld")&&("SELECT"==a[0].nodeName&&"index"===a[0].getAttribute("data-rateit-valuesrc")?k(i("backingfld")).prop("selectedIndex",e):k(i("backingfld")).val(e)).trigger("change"),i("ispreset")&&(o.find(".rateit-selected").removeClass(f),i("ispreset",!1)),o.find(".rateit-hover").hide(),o.find(".rateit-selected").width(e*i("starwidth")-i("min")*i("starwidth")).show(),n.trigger("hover",[null]).trigger("over",[null]).trigger("rated",[e]))}var v,f="rateit-preset"+(s?"":"-rtl"),p=(i("ispreset")?n.find(".rateit-selected").addClass(f):n.find(".rateit-selected").removeClass(f),null!=i("value")&&(v=(i("value")-i("min"))*i("starwidth"),n.find(".rateit-selected").width(v)),n.find(".rateit-reset"));!0!==p.data("wired")&&p.bind("click",function(e){e.preventDefault(),p.blur();e=k.Event("beforereset");if(n.trigger(e),e.isDefaultPrevented())return!1;n.rateit("value",null),n.trigger("reset")}).data("wired",!0);i("readonly")?p.hide():(i("resetable")||p.hide(),i("wired")||(o.bind("touchmove touchend",$),o.mousemove(function(e){var t,a;e=h(this,e),t=e*i("starwidth")*i("step"),(a=o.find(".rateit-hover")).data("width")!=t&&(o.find(".rateit-selected").hide(),a.width(t).show().data("width",t),a=[e*i("step")+i("min")],n.trigger("hover",a).trigger("over",a))}),o.mouseleave(function(e){o.find(".rateit-hover").hide().width(0).data("width",""),n.trigger("hover",[null]).trigger("over",[null]),o.find(".rateit-selected").show()}),o.mouseup(function(e){e=h(this,e)*i("step")+i("min");g(e),o.blur()}),o.keyup(function(e){38!=e.which&&e.which!=(s?39:37)||g(Math.min(i("value")+i("step"),i("max"))),40!=e.which&&e.which!=(s?37:39)||g(Math.max(i("value")-i("step"),i("min")))}),i("wired",!0)),i("resetable")&&p.show()),o.attr("aria-readonly",i("readonly"))})},k.fn.rateit.defaults={min:0,max:5,step:.5,mode:"bg",icon:"â˜…",starwidth:16,starheight:16,readonly:!1,resetable:!0,ispreset:!1},k(function(){k("div.rateit, span.rateit").rateit()})}(jQuery),$(document).on("click",".rateit",function(){var e={star:$(this)[0].lastElementChild.ariaValueNow,url:$(this).data("url")},t=$(this);$.ajax({url:"/rating/rating",data:e,type:"POST",dataType:"json",success:function(e){t.next(".danhgia").find(".avg-rate").text(e.avg),t.next(".danhgia").find(".count-rate").text(e.count)}})});